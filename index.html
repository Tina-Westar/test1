<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + Vue</title>
</head>

<body class="container ">
  <div id="app"></div>
  <script type="module" src="/src/main.js"></script>
  <!-- test -->
  <section class="container col-12">
    <h1>Test API</h1>
    <ul class="lists">
      <li>123</li>
    </ul>
  </section>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
  <script src="https://unpkg.com/vue@next"></script>
  <script>
    const instance = axios.create({
      baseURL: "https://api.wistronent.org/test01",
      withCredentials: false,
      headers: {
        'Access-Control-Allow-Origin': '*',
        'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',
      }
    });
    //url: `https://course-ec-api.hexschool.io/api/${uuid}/admin/ec/product`,
    //GET請求
    ///account/bind
    // axios.get('https://api.wistronent.org/test01/userprofile')
    //   .then((response) => console.log(response))
    //   .catch((error) => console.log(error))
    ///account/bind
    ///account/bind
    // axios.get('https://api.wistronent.org/test01/userprofile')
    //   .then((response) => console.log(response))
    //   .catch((error) => console.log(error))
    // axios.get('https://api.wistronent.org/test01/userprofile', { params: { ID: 123 } })
    //   .then((res) => { console.table(res.data) })
    //   .catch((error) => { console.error(error) })
    //   .finally(() => { /* 不論失敗成功皆會執行 */ })
      const url = "https://soweb.kcg.gov.tw/webapi/api/Category/";
      const list = document.querySelector(".lists");
      let data = [];
      axios.get(url)
  .then(function (response) {
    console.log(response.data);
    
    // 宣告一個變數 str 並賦予值為字串型別的空字串
    let str ="";
  
    //將撈取回來的資料賦予在變數 data 上
    data = response.data;
    
    //請透過 data 陣列跑 forEach ，並至少帶入第一個參數
    data.forEach(function(item){
      // 將陣列中 kind_name 加入 str 空字串中
      str += `<li>${item.kind_name}</li>`;
    })
    console.log(str)
    
    //請透過 innerHTML 給 list 變數賦予值
    list.innerHTML = str;
  });

  //
    // const api = 'https://api.wistronent.org/test01/';
    // const token = 'token_value';
    // const roomInfo = axios({
    //   method: 'GET',
    //   url: api,
    //   responseType: 'json', // responseType 也可以寫在 header 裡面
    //   headers: {
    //     // accept: 'application/json',
    //     // Content-Type: 'application/json',
    //   },
    //   auth: {
    //     username: 'xiaoming',
    //     password: 'abc123'
    //   },
    // })
    //   .then(function (response) {
    //     console.log(response);
    //   })
    //   .catch(function (error) {
    //     console.log('錯誤', error);
    //   });
  </script>
</body>

</html>